<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Achievement Badges | Cybervedmitra</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        .badges-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
            padding-bottom: 5rem;
        }

        .badge-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 2.5rem;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .badge-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--accent);
        }

        .badge-visual {
            width: 150px;
            height: 150px;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .badge-svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.1));
        }

        .badge-name {
            font-size: 1.5rem;
            font-weight: 800;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .badge-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        .download-options {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            justify-content: center;
        }

        .download-btn {
            padding: 0.6rem 1rem;
            font-size: 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
        }

        .download-btn:hover {
            background: var(--accent);
            border-color: var(--accent);
            transform: scale(1.05);
        }

        .section-intro {
            text-align: center;
            max-width: 700px;
            margin: 0 auto 3rem;
        }

        /* Badge Specific Glowing Effects */
        .badge-cadet {
            --badge-color: #94a3b8;
        }

        .badge-defender {
            --badge-color: #3b82f6;
        }

        .badge-guardian {
            --badge-color: #a855f7;
        }

        .badge-specialist {
            --badge-color: #eab308;
        }

        .badge-hero {
            --badge-color: #22c55e;
        }

        .hidden-canvas {
            position: absolute;
            left: -9999px;
            top: -9999px;
        }

        .return-link {
            position: fixed;
            top: 2rem;
            left: 2rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: #fff;
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid #22c55e;
            padding: 0.6rem 1.2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.4);
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            z-index: 110;
        }

        .return-link:hover {
            background: rgba(34, 197, 94, 0.4);
            box-shadow: 0 0 25px rgba(34, 197, 94, 0.6);
            transform: scale(1.05);
        }
    </style>
</head>

<body id="body">
    <div class="background-glow"></div>

    <header>
        <div class="nav-pill">
            <a href="index.html" class="logo">Cybervedmitra</a>
            <button class="hamburger-btn" aria-label="Toggle Menu" onclick="toggleMenu()">
                <span></span><span></span><span></span>
            </button>
        </div>

        <div class="header-auth-wrapper">
            <div class="auth-buttons">
                <a href="login.html" class="btn btn-text" style="color: #fff; margin-right: 15px;">Login</a>
                <a href="signup.html" class="btn btn-primary" style="padding: 0.5rem 1.2rem; font-size: 0.9rem;">Sign
                    Up</a>
            </div>
            <button class="btn btn-text btn-logout-header hidden" onclick="logout()"
                style="color: #ef4444; font-weight: 600;">Logout</button>
        </div>
    </header>

    <div class="menu-overlay" id="menuOverlay">
        <ul class="menu-links">
            <li><a href="index.html" onclick="toggleMenu()"><svg class="menu-icon" viewBox="0 0 24 24">
                        <path
                            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg><span class="menu-label">Home</span></a></li>
            <li><a href="about.html" onclick="toggleMenu()"><svg class="menu-icon" viewBox="0 0 24 24">
                        <path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg><span class="menu-label">About</span></a></li>
            <li><a href="learn.html" onclick="toggleMenu()"><svg class="menu-icon" viewBox="0 0 24 24">
                        <path
                            d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.247 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg><span class="menu-label">Learn</span></a></li>
            <li><a href="labs.html" onclick="toggleMenu()"><svg class="menu-icon" viewBox="0 0 24 24">
                        <path
                            d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg><span class="menu-label">Labs</span></a></li>
            <li><a href="resources.html" onclick="toggleMenu()"><svg class="menu-icon" viewBox="0 0 24 24">
                        <path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg><span class="menu-label">Resources</span></a></li>
            <li><a href="awareness.html" onclick="toggleMenu()"><svg class="menu-icon" viewBox="0 0 24 24">
                        <path
                            d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg><span class="menu-label">Awareness</span></a></li>
            <li><a href="contact.html" onclick="toggleMenu()"><svg class="menu-icon" viewBox="0 0 24 24">
                        <path
                            d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg><span class="menu-label">Contact</span></a></li>
            <li class="dashboard-menu-item" style="display: none;"><a href="dashboard.html" onclick="toggleMenu()"><svg
                        class="menu-icon" viewBox="0 0 24 24">
                        <path
                            d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg><span class="menu-label">Dashboard</span></a></li>
            <li><a href="#" class="logout-link" onclick="logout(); return false;" style="color: #ef4444;"><svg
                        class="menu-icon" viewBox="0 0 24 24" style="stroke: #ef4444;">
                        <path
                            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg><span class="menu-label">Logout</span></a></li>
        </ul>
    </div>

    <main class="container page-header">
        <a href="labs.html" class="return-link fade-in-up">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 12H5M12 19l-7-7 7-7" />
            </svg>
            Return to Labs
        </a>
        <h1 class="page-title fade-in-up" style="margin-top: 4rem;">Your <span class="accent-text">Badges</span></h1>

        <div class="section-intro fade-in-up delay-1">
            <p style="color: var(--text-secondary); font-size: 1.1rem;">
                Congratulations, Cyber Hero! You've successfully navigated the challenges of the digital world. Claim
                your official badges and show off your achievements.
            </p>
        </div>

        <div class="badges-container">
            <!-- Badge 1: Lab Cadet -->
            <div class="badge-card fade-in-up delay-1" id="badge-cadet">
                <div class="badge-visual">
                    <svg class="badge-svg" viewBox="0 0 200 200">
                        <defs>
                            <linearGradient id="grad-cadet" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#f8fafc;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#94a3b8;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle cx="100" cy="100" r="90" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.1)"
                            stroke-width="1" />
                        <circle cx="100" cy="100" r="70" fill="url(#grad-cadet)" />
                        <path d="M70 100 L90 120 L130 80" stroke="white" stroke-width="12" fill="none"
                            stroke-linecap="round" stroke-linejoin="round" />
                        <text x="50%" y="155" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="8"
                            font-weight="600" letter-spacing="1">VERIFIABLE CREDENTIAL</text>
                    </svg>
                </div>
                <h3 class="badge-name">Lab Cadet</h3>
                <p class="badge-desc">Foundational skills in secure environment setup.</p>
                <div class="download-options">
                    <button class="download-btn" onclick="downloadBadge('badge-cadet', 'PNG')">PNG</button>
                    <button class="download-btn" onclick="downloadBadge('badge-cadet', 'PDF')">PDF</button>
                    <a href="https://www.credly.com/earner/earned" target="_blank" class="download-btn"
                        style="background: #ff6b00; border-color: #ff6b00;">Add to Credly</a>
                </div>
            </div>

            <!-- Badge 2: Digital Defender -->
            <div class="badge-card fade-in-up delay-2" id="badge-defender">
                <div class="badge-visual">
                    <svg class="badge-svg" viewBox="0 0 200 200">
                        <defs>
                            <linearGradient id="grad-defender" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#60a5fa;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle cx="100" cy="100" r="90" fill="rgba(59,130,246,0.05)" stroke="rgba(59,130,246,0.2)"
                            stroke-width="1" />
                        <rect x="50" y="50" width="100" height="100" rx="20" fill="url(#grad-defender)" />
                        <path d="M100 75 V125 M75 100 H125" stroke="white" stroke-width="10" stroke-linecap="round"
                            opacity="0.3" />
                        <path d="M85 95 h30 v25 a15 15 0 0 1 -30 0 z" fill="white" />
                        <circle cx="100" cy="105" r="4" fill="#2563eb" />
                        <text x="50%" y="175" text-anchor="middle" fill="rgba(59,130,246,0.6)" font-size="8"
                            font-weight="600" letter-spacing="1">VERIFIABLE CREDENTIAL</text>
                    </svg>
                </div>
                <h3 class="badge-name">Digital Defender</h3>
                <p class="badge-desc">Proficiency in local system hardening.</p>
                <div class="download-options">
                    <button class="download-btn" onclick="downloadBadge('badge-defender', 'PNG')">PNG</button>
                    <button class="download-btn" onclick="downloadBadge('badge-defender', 'PDF')">PDF</button>
                    <a href="https://www.credly.com/earner/earned" target="_blank" class="download-btn"
                        style="background: #ff6b00; border-color: #ff6b00;">Add to Credly</a>
                </div>
            </div>

            <!-- Badge 3: Privacy Guardian -->
            <div class="badge-card fade-in-up delay-3" id="badge-guardian">
                <div class="badge-visual">
                    <svg class="badge-svg" viewBox="0 0 200 200">
                        <defs>
                            <linearGradient id="grad-guardian" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#c084fc;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle cx="100" cy="100" r="90" fill="rgba(139,92,246,0.05)" stroke="rgba(139,92,246,0.2)"
                            stroke-width="1" />
                        <circle cx="100" cy="100" r="70" fill="url(#grad-guardian)" />
                        <path d="M65 100 C65 80 80 65 100 65 S135 80 135 100 S120 135 100 135 S65 120 65 100"
                            fill="none" stroke="white" stroke-width="8" />
                        <circle cx="100" cy="100" r="12" fill="white" />
                        <text x="50%" y="175" text-anchor="middle" fill="rgba(139,112,246,0.6)" font-size="8"
                            font-weight="600" letter-spacing="1">VERIFIABLE CREDENTIAL</text>
                    </svg>
                </div>
                <h3 class="badge-name">Privacy Guardian</h3>
                <p class="badge-desc">Expertise in data privacy and anonymity.</p>
                <div class="download-options">
                    <button class="download-btn" onclick="downloadBadge('badge-guardian', 'PNG')">PNG</button>
                    <button class="download-btn" onclick="downloadBadge('badge-guardian', 'PDF')">PDF</button>
                    <a href="https://www.credly.com/earner/earned" target="_blank" class="download-btn"
                        style="background: #ff6b00; border-color: #ff6b00;">Add to Credly</a>
                </div>
            </div>

            <!-- Badge 4: Security Specialist -->
            <div class="badge-card fade-in-up delay-1" id="badge-specialist">
                <div class="badge-visual">
                    <svg class="badge-svg" viewBox="0 0 200 200">
                        <defs>
                            <linearGradient id="grad-specialist" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#fbbf24;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle cx="100" cy="100" r="90" fill="rgba(245,158,11,0.05)" stroke="rgba(245,158,11,0.2)"
                            stroke-width="1" />
                        <path d="M100 35 L165 70 V130 L100 165 L35 130 V70 Z" fill="url(#grad-specialist)" />
                        <path d="M100 70 L115 100 L145 100 L120 120 L130 150 L100 130 L70 150 L80 120 L55 100 L85 100 Z"
                            fill="white" opacity="0.9" />
                        <text x="50%" y="185" text-anchor="middle" fill="rgba(217,119,6,0.6)" font-size="8"
                            font-weight="600" letter-spacing="1">VERIFIABLE CREDENTIAL</text>
                    </svg>
                </div>
                <h3 class="badge-name">Security Specialist</h3>
                <p class="badge-desc">Advanced network security implementation.</p>
                <div class="download-options">
                    <button class="download-btn" onclick="downloadBadge('badge-specialist', 'PNG')">PNG</button>
                    <button class="download-btn" onclick="downloadBadge('badge-specialist', 'PDF')">PDF</button>
                    <a href="https://www.credly.com/earner/earned" target="_blank" class="download-btn"
                        style="background: #ff6b00; border-color: #ff6b00;">Add to Credly</a>
                </div>
            </div>

            <!-- Badge 5: Cyber Hero -->
            <div class="badge-card fade-in-up delay-2" id="badge-hero">
                <div class="badge-visual">
                    <svg class="badge-svg" viewBox="0 0 200 200">
                        <defs>
                            <linearGradient id="grad-hero" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#34d399;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
                            </linearGradient>
                            <filter id="badge-glow" x="-20%" y="-20%" width="140%" height="140%">
                                <feGaussianBlur stdDeviation="5" result="blur" />
                                <feComposite in="SourceGraphic" in2="blur" operator="over" />
                            </filter>
                        </defs>
                        <circle cx="100" cy="100" r="90" fill="rgba(16,185,129,0.05)" stroke="rgba(16,185,129,0.2)"
                            stroke-width="1" />
                        <path d="M100 30 L170 50 V110 C170 155 100 185 100 185 S30 155 30 110 V50 Z"
                            fill="url(#grad-hero)" filter="url(#badge-glow)" />
                        <circle cx="100" cy="95" r="25" fill="rgba(255,255,255,0.2)" />
                        <path d="M85 95 L95 105 L115 85" stroke="white" stroke-width="10" fill="none"
                            stroke-linecap="round" stroke-linejoin="round" />
                        <text x="50%" y="175" text-anchor="middle" fill="rgba(5,150,105,0.6)" font-size="8"
                            font-weight="600" letter-spacing="1">VERIFIABLE CREDENTIAL</text>
                    </svg>
                </div>
                <h3 class="badge-name">Cyber Hero</h3>
                <p class="badge-desc">The ultimate platform mastery achievement.</p>
                <div class="download-options">
                    <button class="download-btn" onclick="downloadBadge('badge-hero', 'PNG')">PNG</button>
                    <button class="download-btn" onclick="downloadBadge('badge-hero', 'PDF')">PDF</button>
                    <a href="https://www.credly.com/earner/earned" target="_blank" class="download-btn"
                        style="background: #ff6b00; border-color: #ff6b00;">Add to Credly</a>
                </div>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <a href="index.html" class="logo">Cybervedmitra</a>
                    <p class="footer-description">Empowering the next generation of digital citizens with essential
                        cybersecurity skills.</p>
                </div>
                <!-- Standard Footer Columns... -->
                <div class="footer-column">
                    <h4 class="footer-heading">Platform</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="learn.html">Start Learning</a></li>
                        <li><a href="labs.html">Interactive Labs</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Resources</h4>
                    <ul class="footer-links">
                        <li><a href="awareness.html">Awareness Hub</a></li>
                        <li><a href="resources.html">Learning Materials</a></li>
                        <li><a href="badges.html">Achievement Badges</a></li>
                        <li><a href="trusted-sources.html">Trusted Sources</a></li>
                        <li><a href="contact.html">Support</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                        <li><a href="terms-of-service.html">Terms of Service</a></li>
                        <li><a href="code-of-conduct.html">Code of Conduct</a></li>
                        <li><a href="cookie-policy.html">Cookie Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="copyright">&copy; 2024 Cybervedmitra. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="ui.js"></script>
    <script src="auth.js"></script>
    <script>
        const { jsPDF } = window.jspdf;

        async function downloadBadge(badgeId, format) {
            const badgeElement = document.getElementById(badgeId);
            // Temporarily hide download options for clean capture
            const options = badgeElement.querySelector('.download-options');
            options.style.visibility = 'hidden';

            try {
                const canvas = await html2canvas(badgeElement, {
                    backgroundColor: '#09090b',
                    scale: 2,
                    logging: false,
                    useCORS: true
                });

                if (format === 'PDF') {
                    const imgData = canvas.toDataURL('image/png');
                    const pdf = new jsPDF({
                        orientation: 'portrait',
                        unit: 'px',
                        format: [canvas.width / 2, canvas.height / 2]
                    });
                    pdf.addImage(imgData, 'PNG', 0, 0, canvas.width / 2, canvas.height / 2);
                    pdf.save(`${badgeId}.pdf`);
                } else if (format === 'PNG') {
                    const link = document.createElement('a');
                    link.download = `${badgeId}.png`;
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                } else if (format === 'JPG' || format === 'JPEG') {
                    const link = document.createElement('a');
                    link.download = `${badgeId}.jpg`;
                    link.href = canvas.toDataURL('image/jpeg', 0.9);
                    link.click();
                }
            } catch (err) {
                console.error("Capture failed", err);
                alert("Sorry, there was an error generating your badge. Please try again.");
            } finally {
                options.style.visibility = 'visible';
            }
        }

        setTimeout(() => {
            document.querySelectorAll('.fade-in-up').forEach(el => {
                el.style.opacity = '1';
                el.style.transform = 'translateY(0)';
            });
        }, 100);
    </script>
</body>

</html>